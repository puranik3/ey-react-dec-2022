{"version":3,"sources":["components/AddSession.jsx"],"names":["AddSession","state","values","sequenceId","name","speaker","duration","level","abstract","errors","isValid","Object","every","arr","length","validateForm","push","console","log","setState","curState","updateValues","event","inputName","target","inputValue","value","addSession","preventDefault","SessionsService","props","match","params","id","then","session","alert","catch","error","message","this","sequenceIdErrs","className","noValidate","onSubmit","htmlFor","type","placeholder","aria-describedby","onChange","map","key","disabled","Component"],"mappings":"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","file":"static/js/4.e127a95e.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport SessionsService from '../services/sessions.js';\n\nclass AddSession extends Component {\n    state = {\n        values: {\n            sequenceId: 0,\n            name: '',\n            speaker: '',\n            duration: 0,\n            level: '',\n            abstract: ''\n        },\n        errors: {\n            sequenceId: [],\n            name: [],\n            speaker: [],\n            duration: [],\n            level: [],\n            abstract: []\n        }\n    };\n\n    isValid = () => {\n        return Object.values( this.state.errors ).every( arr => arr.length === 0 );\n    }\n\n    validateForm = () => {\n        const errors = {\n            sequenceId: [],\n            name: [],\n            speaker: [],\n            duration: [],\n            level: [],\n            abstract: []\n        };\n\n        const { sequenceId, name, speaker, duration, level, abstract } = this.state.values;\n\n        if( sequenceId === '' ) {\n            errors.sequenceId.push( 'Sequence ID is required' );\n            console.log( errors );\n        }\n\n        this.setState(\n            ( curState ) => {\n                return {\n                    ...curState,\n                    errors\n                };\n            }\n        );\n    }\n\n    updateValues = ( event ) => {\n        const inputName = event.target.name;\n        const inputValue = event.target.value;\n\n        this.setState(\n            ( curState ) => {\n                return {\n                    ...curState,\n                    values: {\n                        ...curState.values,\n                        [inputName]: inputValue\n                    }\n                };\n            },\n            this.validateForm\n        );\n    }\n\n    addSession = ( event ) => {\n        event.preventDefault();\n\n        SessionsService.addSession( this.state.values, this.props.match.params.id )\n            .then(session => {\n                alert( `The session has been added successfully (session id = ${session.id})` );\n            })\n            .catch( error => alert( `Something went wrong (${error.message})` ) );\n    }\n\n    render() {\n        const { sequenceId, name, speaker, duration, level, abstract } = this.state.values;\n        const { \n            sequenceId: sequenceIdErrs,\n            name : nameErrs,\n            speaker: speakerErrs,\n            duration: durationErrs,\n            level: levelErrs,\n            abstract: abstractErrs\n        } = this.state.errors;\n\n\n        return (\n            <div className=\"container\">\n                <div className=\"row my-4\">\n                    <div className=\"col-12\">\n                        <h3>\n                            Details of new session\n                        </h3>\n                        <hr />\n                    </div>\n                </div>\n                <div className=\"col-12\">\n                    <form noValidate onSubmit={this.addSession}>\n                        <div className=\"form-group row\">\n                            <label htmlFor=\"sequenceId\" className=\"col-sm-3 col-form-label\">Sequence ID</label>\n                            <div className=\"col-sm-9\">\n                                <input className={`form-control ${sequenceIdErrs.length === 0 ? 'is-valid' : 'is-invalid'}`} type=\"text\" name=\"sequenceId\" id=\"sequenceId\" placeholder=\"\" aria-describedby=\"sequenceHelpId\" onChange={this.updateValues} value={sequenceId} />\n                                <small id=\"sequenceHelpId\" className=\"text-muted\">Sequence ID is the serial number of the session in the workshop</small>\n                                <small className=\"invalid-feedback\">\n                                    {sequenceIdErrs.map(error => <div key={error}>{error}</div>)}\n                                </small>\n                            </div>\n                        </div>\n                        <div className=\"form-group row\">\n                            <label htmlFor=\"name\" className=\"col-sm-3 col-form-label\">Name</label>\n                            <div className=\"col-sm-9\">\n                                <input type=\"text\" className=\"form-control\" name=\"name\" id=\"name\" placeholder=\"\"  aria-describedby=\"NameHelpId\" onChange={this.updateValues} value={name} />\n                                <small id=\"NameHelpId\" className=\"text-muted\">The title of the session</small>\n                            </div>\n                        </div>\n                        <div className=\"form-group row\">\n                            <label htmlFor=\"speaker\" className=\"col-sm-3 col-form-label\">Speaker(s)</label>\n                            <div className=\"col-sm-9\">\n                                <input type=\"text\" className=\"form-control\" name=\"speaker\" id=\"speaker\" placeholder=\"\" aria-describedby=\"speakerHelpId\" onChange={this.updateValues} value={speaker} />\n                                <small id=\"speakerHelpId\" className=\"text-muted\">The name of the speaker(s) for this session. Separate speaker names by a comma. Example <strong>John Doe, Jane Doe</strong>.</small>\n                            </div>\n                        </div>\n                        <div className=\"form-group row\">\n                            <label htmlFor=\"duration\" className=\"col-sm-3 col-form-label\">Duration</label>\n                            <div className=\"col-sm-9\">\n                                <input type=\"number\" className=\"form-control\" name=\"duration\" id=\"duration\" placeholder=\"\" aria-describedby=\"durationHelpId\" onChange={this.updateValues} value={duration} />\n                                <small id=\"durationHelpId\" className=\"text-muted\">The length of the session in hours</small>\n                            </div>\n                        </div>\n                        <div className=\"form-group row\">\n                            <label htmlFor=\"level\" className=\"col-sm-3 col-form-label\">Level</label>\n                            <div className=\"col-sm-9\">\n                                <select className=\"form-control\" name=\"level\" id=\"level\" onChange={this.updateValues} value={level}>\n                                    <option value=\"\">-- Select the level of the session --</option>\n                                    <option value=\"Basic\">Basic</option>\n                                    <option value=\"Intermediate\">Intermediate</option>\n                                    <option value=\"Advanced\">Advanced</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"form-group row\">\n                            <label htmlFor=\"duration\" className=\"col-sm-3 col-form-label\">Abstract</label>\n                            <div className=\"col-sm-9\">\n                                <textarea type=\"number\" className=\"form-control\" name=\"abstract\" id=\"abstract\" aria-describedby=\"abstractHelpId\" onChange={this.updateValues} value={abstract}></textarea>\n                                <small id=\"abstractHelpId\" className=\"text-muted\">A brief description of the session topics</small>\n                            </div>\n                        </div>\n                        <div className=\"form-group row\">\n                            <div className=\"offset-sm-3 col-sm-9\">\n                                <button type=\"submit\" className=\"btn btn-primary mr-2\" disabled={!this.isValid()}>Add session</button>\n                                <button type=\"button\" className=\"btn btn-danger\">Cancel</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AddSession;"],"sourceRoot":""}